from usecase.saveAggregateData.updateAnnotationsUsecsae import UpdateAnnotationsUsecase
from usecase.saveAggregateData.dataHolder import DataHolder

from ..utility.usecaseFixture import (
    mongo_connection_setup
)

from ..utility.findHelper import (
    Finder
)

from ..utility.objectMother import (
    FakeCurrentUser, Mother
)

class MockUpdateAnnotationsUsecase(UpdateAnnotationsUsecase):
    def generate_coco_format_for_segment_data(self, width, height, paperjs_object):
        segmentation = [[1, 2, 3, 4]]
        area = 30
        bbox = [1, 2, 3, 4]
        return segmentation, area, bbox

class TestCase:

    def create_images(self):
        Mother.create_image_by("img1")
        Mother.create_image_by("img2")
        Mother.create_image_by("img3")

    def get_image_id(self):
        return Finder.find_all_images()[0].id

    def test_remove_annotations_from_all_images(self, mongo_connection_setup):
        image1_id = Mother.create_image_by("Image1")
        image2_id = Mother.create_image_by("Image2")
        self.create_annotation_by(image1_id)
        self.create_annotation_by(image2_id)
        usecase = MockUpdateAnnotationsUsecase()
        # Act
        usecase.remove_annotations_in_all_images([image1_id, image2_id])
        # Assert
        assert Finder.find_annotation_by_image_id(image1_id) is None
        assert Finder.find_annotation_by_image_id(image2_id) is None

    def create_annotation_by(self, image_id):
        Mother.create_annotation(image_id)
        assert Finder.find_annotation_by_image_id(image_id) is not None

    def test_update_annotations_to_all_image(self, mongo_connection_setup):
        # Arrange
        self.create_images()
        data = self.get_aggregate_data(self.get_image_id())
        fakeUser = FakeCurrentUser()
        usecase = MockUpdateAnnotationsUsecase()
        # Act
        usecase.execute(data, fakeUser)
        # Assert
        self.assert_images_contain_annotations(data)
    
    def assert_images_contain_annotations(self, data):
        dataHolder = DataHolder(data)
        iamges = Finder.find_all_images()
        for image in iamges:
            annotations = Finder.find_annotation_list_by_image_id(image.id)
            assert len(annotations) ==  36
            for annotation_data in dataHolder.get_annotations_data_list():
                self.assert_annotation_data_contained_in(annotations, annotation_data, image.id)

    def assert_annotation_data_contained_in(self, annotaions, annotation_data, image_id):
    
        for annotation in annotaions:
            if annotation.category_id == annotation_data['category_id'] and annotation.isbbox == annotation_data['isbbox'] and annotation.image_id == image_id:
                return True
        return False


    def get_aggregate_data(self, image_id):
        return {"mode":"segment","user":{"bbox":{"blackOrWhite":True,"auto":True,"radius":10},"polygon":{"guidance":True,"completeDistance":5,"minDistance":2,"blackOrWhite":True,"auto":True,"radius":10},"eraser":{"strokeColor":"white","radius":30},"brush":{"strokeColor":"white","radius":30},"magicwand":{"threshold":30,"blur":40},"select":{"showText":True},"settings":{"shortcuts":[{"name":"Move Up Annotations","keys":["arrowup"]},{"name":"Move Down Annotations","keys":["arrowdown"]},{"name":"Expand Category","keys":["arrowright"]},{"name":"Collapse Category","keys":["arrowleft"]},{"name":"New Annotation","keys":["space"]},{"name":"Delete Current Annotation","keys":["backspace"]},{"name":"Undo Last Action","keys":["control","z"]},{"name":"Select Tool","keys":["s"]},{"name":"BBox Tool","keys":["r"]},{"name":"Next Image","keys":["n"]},{"name":"Previous Image","keys":["p"]},{"name":"Polygon Tool","keys":["v"]},{"name":"Magic Wand Tool","keys":["w"]},{"name":"Keypoints Tool","keys":["k"]},{"name":"Brush Tool","keys":["b"]},{"name":"Eraser Tool","keys":["e"]},{"name":"Center Image","keys":["c"]},{"name":"Save","keys":["control","s"]},{"name":"Remove Current BBox","keys":["escape"]},{"name":"Remove Current Polygon","keys":["escape"]},{"name":"Increase Radius","keys":["["]},{"name":"Decrease Radius","keys":["]"]},{"name":"Increase Radius","keys":["["]},{"name":"Decrease Radius","keys":["]"]},{"name":"Subtract Selection","keys":["shift","click"]}]}},"dataset":{"id":11,"name":"testmm dhhhavhtaset","directory":"/datasets/testmm dhhhavhtaset/","categories":[86,87,88,89,90],"owner":"ZiXuanHong","users":[],"annotate_url":"","default_annotation_metadata":{},"deleted":False},"image":{"id":image_id,"metadata":{},"settings":{"selectedLayers":{"category":-1,"annotation":-1,"keypoint":-1}},"category_ids":[86,87,88,89,90]},"settings":{"activeTool":"Select","zoom":0.2,"tools":{}},"categories":[{"id":86,"name":"wire","show":True,"visualize":True,"color":"color","metadata":[],"annotations":[{"id":4328,"isbbox":False,"color":"#870be7","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":0,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[275,755.5],[271,754.5],[250,779.5],[250,784.5],[253,783.5],[273,761.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4329,"isbbox":False,"color":"#d6f015","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":1,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[180,752.5],[174,758.5],[167,771.5],[162,777.5],[159,785.5],[163,785.5],[175,769.5],[182,757.5],[182,754.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4330,"isbbox":False,"color":"#34d881","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":2,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[359,742.5],[353,746.5],[324,779.5],[327,782.5],[333,778.5],[361,747.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4331,"isbbox":False,"color":"#9eb300","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":3,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-274,735.5],[-276,737.5],[-276,740.5],[-253,781.5],[-249,785.5],[-244,787.5],[-245,782.5],[-263,752.5],[-268,741.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4332,"isbbox":False,"color":"#15beb8","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":4,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-665,526.5],[-664,543.5],[-663,530.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4333,"isbbox":False,"color":"#27dfe2","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":5,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[331,431.5],[332,441.5],[346,478.5],[359,519.5],[367,540.5],[371,545.5],[374,543.5],[373,535.5],[359,498.5],[339,436.5],[335,430.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4334,"isbbox":False,"color":"#9921f3","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":6,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[367,407.5],[367,411.5],[373,415.5],[462,449.5],[467,448.5],[467,446.5],[464,443.5],[451,439.5],[406,420.5],[392,416.5],[373,407.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4335,"isbbox":False,"color":"#d25a02","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":7,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-665,407.5],[-664,412.5],[-576,447.5],[-569,447.5],[-570,443.5],[-577,439.5],[-590,435.5],[-628,419.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4336,"isbbox":False,"color":"#5bb4e7","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":8,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-665,211.5],[-664,218.5],[-597,255.5],[-584,259.5],[-584,255.5],[-589,251.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4337,"isbbox":False,"color":"#45e2a6","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":9,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[27,207.5],[23,207.5],[-92,263.5],[-136,281.5],[-147,287.5],[-149,291.5],[-144,292.5],[-39,245.5],[24,214.5],[27,211.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4338,"isbbox":False,"color":"#202192","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":10,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[127,187.5],[123,187.5],[120,190.5],[107,210.5],[62,287.5],[-81,519.5],[-84,527.5],[-82,529.5],[-80,529.5],[-76,525.5],[-61,502.5],[33,344.5],[124,196.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4339,"isbbox":False,"color":"#17cf7c","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":11,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-356,175.5],[-353,177.5],[-342,178.5],[-221,179.5],[-50,185.5],[-46,183.5],[-48,179.5],[-145,175.5],[-280,173.5],[-345,170.5],[-354,171.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4340,"isbbox":False,"color":"#36cdac","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":12,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[123,162.5],[85,205.5],[65,232.5],[-94,427.5],[-177,523.5],[-177,528.5],[-173,527.5],[-156,510.5],[-90,433.5],[85,216.5],[107,191.5],[125,167.5],[125,164.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4341,"isbbox":False,"color":"#c50b3c","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":13,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[123,138.5],[118,140.5],[97,161.5],[3,261.5],[-94,360.5],[-166,436.5],[-230,500.5],[-264,531.5],[-267,535.5],[-265,539.5],[-261,538.5],[-235,515.5],[-137,416.5],[-64,338.5],[124,143.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4342,"isbbox":False,"color":"#b34a01","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":14,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[135,87.5],[135,91.5],[147,99.5],[161,105.5],[291,178.5],[439,258.5],[451,263.5],[453,259.5],[448,255.5],[345,201.5],[139,87.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4343,"isbbox":False,"color":"#f13054","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":15,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-358,79.5],[-355,83.5],[-333,89.5],[-245,109.5],[-81,151.5],[-68,153.5],[-51,158.5],[-46,156.5],[-49,152.5],[-59,149.5],[-89,143.5],[-107,137.5],[-160,125.5],[-204,113.5],[-295,91.5],[-304,90.5],[-351,77.5],[-357,77.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4344,"isbbox":False,"color":"#e378c2","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":16,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[453,-13.5],[446,-14.5],[407,-4.5],[356,5.5],[157,51.5],[142,53.5],[137,55.5],[135,59.5],[139,61.5],[150,59.5],[162,55.5],[176,53.5],[345,13.5],[442,-6.5],[451,-9.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4345,"isbbox":False,"color":"#3ef6ac","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":17,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-583,-16.5],[-585,-18.5],[-590,-18.5],[-642,-4.5],[-665,-0.5],[-665,6.5],[-586,-12.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4346,"isbbox":False,"color":"#88b022","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":18,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[455,-104.5],[453,-107.5],[450,-107.5],[376,-78.5],[356,-72.5],[279,-42.5],[247,-28.5],[239,-26.5],[212,-14.5],[94,28.5],[88,31.5],[87,35.5],[93,36.5],[108,31.5],[332,-57.5],[450,-100.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4347,"isbbox":False,"color":"#76c9e6","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":19,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-581,-111.5],[-589,-111.5],[-609,-102.5],[-662,-83.5],[-665,-81.5],[-665,-76.5],[-586,-104.5],[-581,-108.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4348,"isbbox":False,"color":"#e19167","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":20,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-39,-117.5],[-42,-114.5],[-42,-6.5],[-41,28.5],[-37,31.5],[-35,28.5],[-36,-116.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4349,"isbbox":False,"color":"#f868ce","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":21,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-253,-120.5],[-257,-123.5],[-350,-120.5],[-352,-116.5],[-350,-114.5],[-258,-116.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4350,"isbbox":False,"color":"#f2fa20","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":22,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[275,-283.5],[270,-280.5],[215,-209.5],[43,-14.5],[21,13.5],[-34,76.5],[-35,79.5],[-33,81.5],[-29,79.5],[52,-15.5],[219,-204.5],[271,-270.5],[277,-280.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4351,"isbbox":False,"color":"#d441a6","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":23,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[183,-284.5],[180,-283.5],[176,-278.5],[172,-269.5],[125,-192.5],[-21,26.5],[-35,49.5],[-37,55.5],[-33,56.5],[-29,52.5],[32,-43.5],[136,-198.5],[184,-279.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4352,"isbbox":False,"color":"#f3910d","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":24,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[363,-292.5],[359,-292.5],[290,-217.5],[192,-118.5],[-33,100.5],[-33,105.5],[-29,105.5],[243,-160.5],[331,-251.5],[361,-286.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4353,"isbbox":False,"color":"#5c2198","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":25,"categoryId":0},"children":[["Path",{"applyMatrix":True,"segments":[[-273,-300.5],[-272,-295.5],[-263,-277.5],[-254,-262.5],[-208,-172.5],[-201,-162.5],[-198,-163.5],[-197,-166.5],[-199,-172.5],[-269,-301.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]}],"supercategory":"supercategory","keypoint_labels":[],"keypoint_edges":[],"keypoint_colors":[]},{"id":87,"name":"bond_rec","show":True,"visualize":True,"color":"color","metadata":[],"annotations":[{"id":4354,"isbbox":False,"color":"#fe438e","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":0,"categoryId":1},"children":[["Path",{"applyMatrix":True,"segments":[[-138,-365.5],[-59,-365.5],[-59,-254.5],[-138,-254.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4355,"isbbox":False,"color":"#dbbd6b","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":1,"categoryId":1},"children":[["Path",{"applyMatrix":True,"segments":[[-233.4,-366.4],[-154.5,-370],[-149.4,-259.2],[-228.4,-255.6]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]}],"supercategory":"supercategory","keypoint_labels":[],"keypoint_edges":[],"keypoint_colors":[]},{"id":88,"name":"wire_2","show":True,"visualize":True,"color":"color","metadata":[],"annotations":[{"id":4356,"isbbox":False,"color":"#70bfe1","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":0,"categoryId":2},"children":[["Path",{"applyMatrix":True,"segments":[[134,208.5],[132,211.5],[153,246.5],[221,349.5],[227,355.5],[229,355.5],[230,351.5],[180,277.5],[137,209.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]}],"supercategory":"supercategory","keypoint_labels":[],"keypoint_edges":[],"keypoint_colors":[]},{"id":89,"name":"bond_90","show":True,"visualize":True,"color":"color","metadata":[],"annotations":[{"id":4357,"isbbox":False,"color":"#3c1dcd","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":0,"categoryId":3},"children":[["Path",{"applyMatrix":True,"segments":[[-445,255.5],[-445,277.5],[-443,281.5],[-425,281.5],[-398,296.5],[-354,296.5],[-345,291.5],[-342,283.5],[-342,248.5],[-346,243.5],[-354,240.5],[-400,239.5],[-423,250.5],[-431,252.5],[-441,251.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4358,"isbbox":False,"color":"#fc3122","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":1,"categoryId":3},"children":[["Path",{"applyMatrix":True,"segments":[[-445,351.5],[-445,373.5],[-443,377.5],[-425,377.5],[-398,392.5],[-354,392.5],[-345,387.5],[-342,379.5],[-342,344.5],[-346,339.5],[-354,336.5],[-400,335.5],[-423,346.5],[-431,348.5],[-441,347.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4359,"isbbox":False,"color":"#0358d3","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":2,"categoryId":3},"children":[["Path",{"applyMatrix":True,"segments":[[-444,159.5],[-444,181.5],[-442,185.5],[-424,185.5],[-397,200.5],[-353,200.5],[-344,195.5],[-341,187.5],[-341,152.5],[-345,147.5],[-353,144.5],[-399,143.5],[-422,154.5],[-430,156.5],[-440,155.5]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4618,"isbbox":True,"color":"#27d8be","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":3,"categoryId":3},"children":[["Path",{"applyMatrix":True,"segments":[[1,-148.2],[1,162.1],[-391.7,162.1],[-391.7,-148.2]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]}],"supercategory":"supercategory","keypoint_labels":[],"keypoint_edges":[],"keypoint_colors":[]},{"id":90,"name":"bottle","show":True,"visualize":True,"color":"color","metadata":[],"annotations":[{"id":4362,"isbbox":False,"color":"#b406ac","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":0,"categoryId":4},"children":[["Path",{"applyMatrix":True,"segments":[[171,-364.2],[171,-360.2],[172.9,-357.2],[171.9,-341.2],[159.9,-316.2],[159.9,-283.2],[162.9,-268.2],[165.9,-263.2],[209.9,-262.2],[213.9,-265.2],[217.9,-275.2],[218.9,-309.2],[217.9,-318.2],[208.9,-334.2],[202.9,-352.2],[205,-360.2],[208,-363.2],[208,-366.2],[173,-365.2]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4363,"isbbox":False,"color":"#92c207","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":1,"categoryId":4},"children":[["Path",{"applyMatrix":True,"segments":[[266.9,-363.3],[266.9,-359.3],[268.9,-356.3],[267.8,-340.3],[255.7,-315.4],[255.6,-282.4],[258.5,-267.4],[261.5,-262.3],[305.5,-261.2],[309.5,-264.2],[313.6,-274.2],[314.7,-308.2],[313.7,-317.2],[304.8,-333.2],[298.8,-351.2],[300.9,-359.2],[303.9,-362.2],[303.9,-365.2],[268.9,-364.3]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]},{"id":4364,"isbbox":False,"color":"#c011e8","metadata":{},"compoundPath":["CompoundPath",{"applyMatrix":True,"opacity":0.6,"data":{"annotationId":2,"categoryId":4},"children":[["Path",{"applyMatrix":True,"segments":[[362.7,-365.2],[362.8,-361.2],[364.9,-358.2],[364.3,-342.2],[352.8,-316.9],[353.6,-283.9],[357,-269],[360.1,-264.1],[404.1,-264.1],[408,-267.2],[411.8,-277.3],[412,-311.3],[410.8,-320.3],[401.4,-336],[395,-353.9],[399.7,-368],[364.7,-366.2]],"closed":True}]],"fillColor":[0,0,0]}],"sessions":[]}],"supercategory":"supercategory","keypoint_labels":[],"keypoint_edges":[],"keypoint_colors":[]}]}
